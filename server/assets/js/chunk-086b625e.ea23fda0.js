(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-086b625e"],{2463:function(s,t,e){"use strict";var a=e("6e82"),n=e.n(a);n.a},"6e82":function(s,t,e){},aca4:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"address-list bg-gray"},[e("van-pull-refresh",{attrs:{"head-height":100},on:{refresh:s.onRefresh},model:{value:s.isLoading,callback:function(t){s.isLoading=t},expression:"isLoading"}},[s.addressList.length>0?e("ul",{staticClass:"address-list-content"},s._l(s.addressList,function(t,a){return e("li",{key:a,staticClass:"address-list-item"},[e("div",{on:{click:function(e){s.selectAddress(t)}}},[e("div",{staticClass:"address-header"},[e("span",{staticClass:"user-name"},[s._v(s._s(t.cargousrName))]),e("span",{staticClass:"user-phone"},[s._v(s._s(t.cargoPhone))])]),e("div",{staticClass:"address-msg"},[s._v(s._s(t.destDesc+t.address))])]),e("div",{staticClass:"address-btn-box"},[e("div",{staticClass:"default-btn",on:{click:function(e){s.setDefault(t)}}},[e("i",{staticClass:"iconfont",class:[1===t.defaultFlag?"icon-xuanzhong":"icon-weixuanzhong"]}),s._v("设为默认\n                ")]),e("div",{staticClass:"common-btn"},[e("span",{on:{click:function(e){s.editAddress(t.id,t.destId)}}},[e("i",{staticClass:"iconfont icon-bianji"}),s._v("编辑\n                    ")]),e("span",{on:{click:function(e){s.deleteAddress(t)}}},[e("i",{staticClass:"iconfont icon-shanchu"}),s._v("删除\n                    ")])])])])})):s._e(),e("empty",{directives:[{name:"show",rawName:"v-show",value:s.showEmpty,expression:"showEmpty"}],attrs:{emptyText:"暂无收货地址"}})],1),e("div",{staticClass:"bottom-btn",on:{click:s.newAddr}},[s._v("新增地址")])],1)},n=[],i=(e("ac6a"),e("e17f"),e("2241")),d=(e("e7e5"),e("d399")),o=(e("ab71"),e("58e6")),r=e("2b61"),c=e("22ce"),l=e("5fb8"),u={data:function(){return{fromPage:"",addressList:[],isLoading:!1,showEmpty:!1}},components:{"van-pull-refresh":o["a"],empty:l["a"]},methods:{getAddress:function(){var s=this,t={vipUsrId:r["a"].get("USER_INFO").usrId};c["m"].getAddrList(t).then(function(t){s.addressList=t,s.isLoading=!1,0==s.addressList.length&&(s.showEmpty=!0)},function(s){Object(d["a"])("数据加载失败~")})},editAddress:function(s,t){this.$router.push("/address-detail?id="+s+"&destId="+t)},clearSettlementAddr:function(s){var t=r["a"].get("settlementAddr");t&&t.id===s.id&&(r["a"].set("settlementAddr",{}),console.log("删除成功"))},deleteAddress:function(s){var t=this;i["a"].confirm({message:"确定删除该地址吗？",confirmButtonText:"确定"}).then(function(){var e={ids:s.id};c["m"].deleteAddrList(e).then(function(){t.clearSettlementAddr(s),t.getAddress(),Object(d["a"])("删除地址成功~")})},function(s){})},selectAddress:function(s){"settlement"===this.fromPage?(r["a"].set("settlementAddr",s),this.$router.go(-1)):"postSale"===this.fromPage&&(this.Storage.set("address",s),this.$router.go(-1))},newAddr:function(){this.$router.push("/address-detail")},onRefresh:function(){this.getAddress()},setDefault:function(s){var t=this;if(1!==s.defaultFlag){var e={id:s.id,address:s.address,cargousrName:s.cargousrName,cargoMobile:s.cargoMobile,cargoPhone:s.cargoPhone,defaultFlag:1,destCode:s.districtCode};c["m"].changeAddrInfo(e).then(function(e){Object(d["a"])("设置默认地址成功~"),t.addressList.forEach(function(t){t.id===s.id?t.defaultFlag=1:t.defaultFlag=0})},function(s){})}}},created:function(){this.fromPage=this.$route.query.fromPage||"",this.getAddress()}},f=u,h=(e("2463"),e("2877")),g=Object(h["a"])(f,a,n,!1,null,"03446738",null);g.options.__file="address-list.vue";t["default"]=g.exports}}]);