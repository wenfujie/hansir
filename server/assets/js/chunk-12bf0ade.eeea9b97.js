(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12bf0ade"],{"09df":function(t,e,a){},1361:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-purchase"},[t._l(t.pageData,function(e){return"1"===e.fileType?a("div",{staticClass:"team-purchase-content mgT20"},[a("img",{attrs:{src:t.getImg(e.coverFileUrl),onerror:"errImg(event)"}})]):t._e()}),!1===t.showForm?a("div",{staticClass:"bottom-btn",on:{click:function(e){t.showForm=!t.showForm}}},[t._v("企业团购")]):t._e(),a("van-popup",{staticClass:"team-purchase-popup",attrs:{"lock-scroll":"true",position:"bottom",overlay:!1},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[a("div",{staticClass:"form-content"},[a("i",{staticClass:"iconfont icon-guanbi",on:{click:function(e){t.showForm=!1}}}),a("p",{staticClass:"title fs36 black"},[t._v("填写表格")]),a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-item-label"},[t._v("联系人")]),a("div",{staticClass:"form-item-content"},[a("van-field",{directives:[{name:"inputfix",rawName:"v-inputfix"}],attrs:{placeholder:"输入姓名，洽谈团购业务",clearable:""},model:{value:t.purchaseInfo.contactName,callback:function(e){t.$set(t.purchaseInfo,"contactName",e)},expression:"purchaseInfo.contactName"}})],1)]),a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-item-label"},[t._v("联系电话")]),a("div",{staticClass:"form-item-content"},[a("van-field",{directives:[{name:"inputfix",rawName:"v-inputfix"}],attrs:{type:"number",placeholder:"请输入手机号，24小时内一对一服务",clearable:""},model:{value:t.purchaseInfo.contactNumber,callback:function(e){t.$set(t.purchaseInfo,"contactNumber",e)},expression:"purchaseInfo.contactNumber"}})],1)]),a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-item-label"},[t._v("选择地区")]),a("div",{staticClass:"form-item-content",on:{click:function(e){t.showAreaList=!0}}},[a("van-field",{directives:[{name:"inputfix",rawName:"v-inputfix"}],attrs:{placeholder:"请选择地区",unselectable:"on",readonly:""},model:{value:t.purchaseInfo.addrName,callback:function(e){t.$set(t.purchaseInfo,"addrName",e)},expression:"purchaseInfo.addrName"}})],1)]),a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-item-label"},[t._v("团购类目")]),a("div",{staticClass:"form-item-content"},[a("van-field",{directives:[{name:"inputfix",rawName:"v-inputfix"}],attrs:{placeholder:"意向品类及采购预算",clearable:""},model:{value:t.purchaseInfo.grpcustomProject,callback:function(e){t.$set(t.purchaseInfo,"grpcustomProject",e)},expression:"purchaseInfo.grpcustomProject"}})],1)]),!0===t.showForm?a("div",{staticClass:"bottom-btn",on:{click:t.postPurchase}},[t._v("立即提交")]):t._e()])]),a("van-popup",{staticClass:"area-box-popup",staticStyle:{"z-index":"9999999"},attrs:{"lock-scroll":"true",position:"bottom"},model:{value:t.showAreaList,callback:function(e){t.showAreaList=e},expression:"showAreaList"}},[a("van-area",{directives:[{name:"inputfix",rawName:"v-inputfix"}],attrs:{"area-list":t.areaList,unselectable:"on"},on:{confirm:t.areaChange,cancel:function(e){t.showAreaList=!1}}})],1)],2)},s=[],c=(a("e7e5"),a("d399")),n=(a("ac6a"),a("7f7f"),a("5f5f"),a("f253")),i=(a("db2c"),a("1125")),r=(a("8a58"),a("e41f")),l=a("22ce"),u=a("bf3c4"),m={components:{"van-popup":r["a"],"van-area":i["a"],"van-picker":n["a"]},data:function(){return{pageData:[],showForm:!1,purchaseInfo:{contactName:"",contactNumber:"",addrName:"",destCode:"",grpcustomProject:""},areaList:u["a"],showAreaList:!1,btnLock:!1}},methods:{getPage:function(){var t=this,e={cmsTemplateCode:Storage.get("TEMPLATE_INFO").cmsTemplateCode,cmsWebCode:pageCode.teamPurchase.name,busContsCode:baseConstant.busContsCode};l["b"].getUsrCmsInfoV2(e).then(function(e){e.cmsModulepageHdList.forEach(function(e){e.cmsBackpageDtDtoList&&e.cmsBackpageDtDtoList.forEach(function(e){"qiyetuangou"===e.cmsBackpageDtCode&&(t.pageData=e.cmsBackpageDttList)})})})},areaChange:function(t){this.purchaseInfo.addrName=t[0].name+" "+t[1].name+" "+t[2].name,this.purchaseInfo.destCode=t[2].code,scrollTo(0,pageYOffset),this.showAreaList=!1},postPurchase:function(){var t=this;if(!this.btnLock)return this.btnLock=!0,this.purchaseInfo.contactName?isPhone(this.purchaseInfo.contactNumber)?this.purchaseInfo.destCode?this.purchaseInfo.grpcustomProject?void l["l"].getPointDetail(this.purchaseInfo).then(function(e){e&&Object(c["a"])("提交成功~"),t.showForm=!1,t.purchaseInfo={contactName:"",contactNumber:"",addrName:"",destCode:"",grpcustomProject:""},t.btnLock=!1},function(){Object(c["a"])("提交失败~"),t.btnLock=!1}):(Object(c["a"])("请填写采购信息~"),void(this.btnLock=!1)):(Object(c["a"])("请先选择省市区~"),void(this.btnLock=!1)):(Object(c["a"])("请输入正确的手机号~"),void(this.btnLock=!1)):(Object(c["a"])("请输入姓名~"),void(this.btnLock=!1))}},created:function(){this.getPage()}},f=m,p=(a("5020"),a("2877")),d=Object(p["a"])(f,o,s,!1,null,"64c25303",null);d.options.__file="team-purchase.vue";e["default"]=d.exports},5020:function(t,e,a){"use strict";var o=a("09df"),s=a.n(o);s.a}}]);