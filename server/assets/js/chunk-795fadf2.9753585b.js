(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-795fadf2"],{"46eb":function(t,e,a){"use strict";var c=a("4904"),n=a.n(c);n.a},4904:function(t,e,a){},d2e4:function(t,e,a){"use strict";(function(t){a("a481"),a("e7e5");var c=a("d399"),n=a("22ce");e["a"]={data:function(){return{phoneNum:"",isMeasureFlag:!1,captcha:"",captchaText:"获取验证码",captchaLocked:!1,time:60}},methods:{isMeasure:function(){var t=this;if(11===this.phoneNum.length){var e={mobile:this.phoneNum};n["g"].checkPhone(e).then(function(e){e&&e.usrId?t.isMeasureFlag=!0:t.isMeasureFlag=!1})}},checkPhone:function(){!0!==this.captchaLocked&&this.getCaptcha()},getCaptcha:function(){var t=this.phoneNum;if(isPhone(t))if(!1!==this.isMeasureFlag){if(!0!==this.captchaLocked){this.captchaLocked=!0;var e={mobile:t,companyId:Storage.get("MEASURE_COMPANYID").company_id,ownCompanyId:Storage.get("MEASURE_COMPANYID").company_id,usrId:0};n["m"].getCaptcha(e).then(function(t){},function(t){}),this.countDown()}}else Object(c["a"])("该手机号不是量体师账户~");else Object(c["a"])("请输入正确的手机号~")},countDown:function(){var t=this;t.captchaLocked=!0,t.captchaText="验证码已发送";var e=window.setInterval(function(){t.captchaText="重新获取"+t.time+"s",t.time--<=0&&(t.time=60,t.captchaLocked=!1,t.captchaText="获取验证码",window.clearInterval(e))},1e3)},toLogin:function(){var t=this;if(isPhone(this.phoneNum))if(this.captcha)if(!1!==this.isMeasureFlag){var e={mobilePhone:this.phoneNum,registCode:this.captcha};n["g"].login(e).then(function(e){e?(Storage.set("MEASURE_USER",e),t.$router.replace("/measure-master/master-center")):Object(c["a"])("验证失败，请重新登录~")},function(t){Object(c["a"])("验证失败，请重新登录~")})}else Object(c["a"])("该手机号不是量体师账户~");else Object(c["a"])("请先填写验证码~");else Object(c["a"])("请先填写正确的手机号~")}},created:function(){n["b"].getProperties().then(function(e){t.baseConstant.wxUnionid=e.mpUuid,Storage.set("MEASURE_COMPANYID",{company_id:e.companyId})})}}}).call(this,a("c8ba"))},f225:function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper phone-box"},[a("div",{staticClass:"form-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],staticClass:"wd100",attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:t.phoneNum},on:{input:[function(e){e.target.composing||(t.phoneNum=e.target.value)},t.isMeasure]}})]),a("div",{staticClass:"form-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],staticClass:"captcha-text wd70 fl",attrs:{type:"tel",placeholder:"请输入验证码"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),a("button",{staticClass:"captcha-btn color-red wd30 fr",class:[1==t.captchaLocked?"disabled":""],on:{click:t.checkPhone}},[t._v(t._s(t.captchaText))])]),a("div",{staticClass:"bottom-btn",on:{click:t.toLogin}},[t._v("登录")])])},n=[],o=a("d2e4"),i=o["a"],s=(a("46eb"),a("2877")),h=Object(s["a"])(i,c,n,!1,null,"2186cda7",null);h.options.__file="login.vue";e["default"]=h.exports}}]);